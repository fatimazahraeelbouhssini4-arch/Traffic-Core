cmake_minimum_required(VERSION 3.10)
project(TrafficCore)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED True)

# Dossiers
set(INCLUDE_DIR "${CMAKE_CURRENT_SOURCE_DIR}/include")
set(SRC_DIR "${CMAKE_CURRENT_SOURCE_DIR}/src")

include_directories(${INCLUDE_DIR})

# Raylib
find_package(raylib CONFIG REQUIRED)

# 1. Lister les fichiers de base (sans le main.cpp s'il existe dans src)
file(GLOB CORE_SOURCES "${SRC_DIR}/Node.cpp" "${SRC_DIR}/RoadSegment.cpp")

# 2. Créer l'exécutable de test pour les routes
# On prend le fichier dans demos/ et on lui ajoute les sources de Node et RoadSegment
add_executable(test_roads demos/test_roads.cpp ${CORE_SOURCES})
target_link_libraries(test_roads PRIVATE raylib)

# Dossier de sortie
set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_CURRENT_BINARY_DIR}/bin)